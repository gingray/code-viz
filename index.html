<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <link rel="icon" type="image/svg+xml" href="/vite.svg"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Vite App</title>
</head>
<body x-data>
<header>
    <nav>
        <button class="circle transparent">
            <i>menu</i>
        </button>
        <h1 class="max center-align">Code-viz tool</h1>
        <button class="circle transparent">
            <img class="responsive" src="/favicon.png">
        </button>
    </nav>
</header>
<main class="responsive max">
    <div class="grid">
        <div class="s3"></div>
        <div class="s6">
            <div id="graph"></div>
        </div>
        </div>
    <div class="grid">
        <div class="s3">
            <article>
                <ul class="list border">
                    <template x-for="nodeName in $store.graph.nodes" >
                        <li x-text="nodeName" x-on:click="$store.graph.selectNode(nodeName)" :class="$store.graph.nodeName == nodeName ? 'secondary-container' : ''"></li>
                    </template>
                </ul>
            </article>
        </div>
        <div class="s6">
            <form id="nodeEditForm">
                <div class="field label border small">
                    <input type="text" id="nodeId" name="nodeId" x-model="$store.graph.nodeName">
                    <label for="nodeId">Node ID:</label>
                </div>

                <div class="field border">
                    <label for="nodeLine">line:</label>
                    <input type="text" id="nodeLine" name="nodeLine"></input>
                </div>

                <div class="field textarea border">
                    <label for="nodeName">Description:</label>
                    <textarea id="nodeName" name="nodeName"></textarea>
                </div>

                <div class="row">
                    <div class="max">
                        <div class="field border label max">
                            <input type="text" id="nodeConnectTo" name="nodeConnectTo" x-model="$store.graph.connectToSelected">
                            <label for="nodeConnectTo">Connect To:</label>
                        </div>
                    </div>
                </div>

                <div class="field">
                    <button @click.prevent="$store.graph.addNode()" class="btn-primary">Add Node</button>
                </div>
            </form>
        </div>

        <div class="s3">
        </div>
    </div>
    <div class="grid json-data">
        <div class="s3"></div>
        <div class="s6">
            <div>
                <div class="tabs">
                    <a class="active">JSON</a>
                    <a>GraphViz</a>
                </div>
                <div class="page padding active">
                    <h5>JSON</h5>
                    <div>
                        <button class="responsive" x-on:click="$store.graph.loadFromJson()">Load From JSON</button>
                    </div>
                    <div class="field border textarea json-repr large-height">
                        <label for="jsonRep">JSON:</label>
                        <textarea id="jsonRep" name="jsonRep" x-model="$store.graph.jsonRep" ></textarea>
                    </div>
                </div>
                <div class="page padding">
                    <h5>GraphViz</h5>
                </div>
            </div>
        </div>
    </div>
</main>
<script type="module" src="/src/main.js"></script>
</body>
</html>
